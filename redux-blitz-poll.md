# # Redux Интервью Вопросы и ответы

![logo-redux](img/redux-bliz-50.jpg)

## 1. Что такое Redux?

> Redux - это библиотека javascript для управления состоянием приложения.

Чаще всего он используется с такими библиотеками, как React.js или Angular и т. д.

---

## 2. Зачем нужен Redux?

Предположим, вам нужно передавать данные (состояние и реквизиты) между такими компонентами, которые не имеют никакой связи, поэтому создание такой связи между двумя компонентами, если сложно передавать данные (состояние и реквизиты) и их обслуживание, является очень сложной задачей. , В таком случае Redux очень полезен, потому что Redux устраняет необходимость непрерывной передачи состояния от одного компонента к другому.

При использовании Redux с React состояния больше не нужно поднимать. Все обрабатывается Redux. Redux упрощает приложение и облегчает обслуживание.

1. Redux предлагает решение для хранения всего состояния вашего приложения в одном месте, которое называется `store`.
2. Затем, компоненты отправляют изменения состояния в хранилище, а не напрямую в другие компоненты.
3. Компоненты, которые должны знать об изменениях состояния, могут подписаться на изменения 'store'.
4. Store - хранилище, можно рассматривать как «посредника» для всех изменений состояния в приложении.
5. При использовании Redux компоненты не взаимодействуют друг с другом напрямую, а все изменения состояния должны проходить через единый источник правды - хранилище - 'store'.

> Redux предоставляет возможность централизовать состояние вашего приложения.

---

## 3. Каковы преимущества использования Redux?

Ниже приведены преимущества использования Redux:

1. Единственный источник правды.
2. Redux делает состояние предсказуемым.
3. Легко поддерживать.
4. Нет необходимости поднимать состояние в реакции.
5. Легко отлаживать.

---

## 4. Как установить Redux?

Redux доступен в виде пакета на NPM.

```js
npm install redux --save
```

---

## 5. Каковы три основных принципа Redux?

Redux можно описать тремя основными принципами

1. Единственный источник правды
2. Состояние только для чтения
3. Изменения сделаны с чистыми функциями

1) Единственный источник правды:
   Состояние всего вашего приложения хранится в дереве объектов в одном хранилище- `store`.

2) Состояние только для чтения:
   Единственный способ изменить состояние - отправить действие - `action`, объект, описывающий произошедшее.

3) Изменения сделаны с чистыми функциями:
   Чтобы указать, как дерево состояний трансформируется действиями, вы пишете чистые редукторы.

---

## 6. Как работает Redux - Redux Workflow?

Redux позволяет управлять состоянием приложения с помощью Store. Дочерний компонент может напрямую обращаться к состоянию из Store.

Ниже приведены подробные сведения о том, как работает Redux:

1. Когда срабатывает событие пользовательского интерфейса (OnClick, OnChange и т. Д.), Оно может отправлять действия в зависимости от события.
2. Редукторы обрабатывают Действия `action` и возвращают новое состояние как Объект.
3. Новое состояние всего приложения переходит в один `store`.
4. Компоненты могут легко подписаться на изменения `store`.

---

## 7. Каковы основные концепции Redux?

Ниже приведены основные принципы Redux.

1. Store
2. Action
3. Reducer
4. Dispatch
5. Subscribe
6. Provider
7. Connect

**1. Store:**
Хранилище - это Объект, который содержит все дерево состояний вашего приложения.

```js
import React from "react";
import { render } from "react-dom";
import { Provider } from "react-redux";
import { createStore } from "redux";
import rootReducer from "./reducers";
import App from "./components/App";

const store = createStore(rootReducer);

render(
  <provider store="{store}">
    <app></app>
  </provider>,
  document.getElementById("root")
);
```

**2. Action:**
Действия - `actions`- это простые объекты JavaScript, и они должны иметь свойство типа, указывающее тип выполняемого действия. Они также должны иметь полезную нагрузку, содержащую информацию, которая должна обрабатываться действием.

Действия -`actions` отправляются с использованием метода `store.dispatch ()`.

```js
action: {
  type: [TYPE],
  payload: [DATA]
}
```

**3. Reducer:**
Редукторы - это чистые функции, которые принимают предыдущее состояние приложения и возвращают новое состояние на основе переданного ему действия.

```js
function(state, action) => newState
```

Вы можете достичь этого, используя

- Object.assign()
- Spread (…) operator

**4. Dispatch:**
`Dispatch` - это метод, который запускает действие с типом и полезной нагрузкой для Reducer.

```js
store.dispatch();
```

**5. Subscribe:**
`Subscribe` - Подписка это метод, который используется для подписки данных / состояния из хранилища - `store`.

```js
store.subscribe();
```

**Provider:**
Поставщик-`Provider` - это компонент, имеющий ссылку на Хранилище и предоставляющий данные из Хранилища компоненту, который он упаковывает.

**Connect:**
`Connect` - это функция связи с провайдером.

---

## 8. Зачем многие создают типы действий NAME_REQUEST / NAME_SUCCESS ? А заодно, что такое «действие», а что такое «создатель действия»…
Для асинхронных действий многие используют подход, в котором есть «имядействия + request (запрос) _или + success (успех) или + failure (ошибка)». Таким образом удобно обрабатывать случившиеся ситуации в редьюсере (например, показать/скрыть прелоадер, показать ошибку или результат). Конечно, «показывает» — компонент, а в редьюсере мы лишь устанавливаем данные.

Действие (action) — это простой объект с обязательным полем type и не обязательным payload (либо любым другим). Есть соглашение standard flux action (flux, потому что redux переосмыслил/развил идею flux).

Создатель действия (action creator) — это функция, которая возвращает действие.

Пример создателя действия:
```js
function addToto() {
  return {
    type: ADD_TODO,
    payload: 'Пройти собеседование',
  }
}
```
Пример действия (напоминаю, это простой объект):
```js
{
  type: ADD_TODO,
  payload: 'Пройти собеседование',
}
```

---
## 9.  Можете написать простой редьюсер без react/redux?
Да. Метод `reduce()` применяет функцию reducer к каждому элементу массива (слева-направо), возвращая одно результирующее значение.
```js
const array1 = [1, 2, 3, 4];
const reducer = (accumulator, currentValue) => accumulator + currentValue;
3
// 1 + 2 + 3 + 4
console.log(array1.reduce(reducer));
// expected output: 10
7
// 5 + 1 + 2 + 3 + 4
console.log(array1.reduce(reducer, 5));
// expected output: 15
11
```

---

## 10. Как компоненты приложения получают «пропсы» из «стора»?
Компоненты присоединены с помощью функции connect. А на самом верху живет redux компонент `<Provider />`. Provider умеет «прокидывать» пропсы вниз в потомков неявно. Используется старое `API — context`.

---

## 11. Можно ли (и считается ли это нормальным) использовать state, если используется Redux?
Разумеется да! Это нормально. Если изменяемое состояние компонента не нужно нигде, кроме него самого — это однозначно state.

---

## 12. Почему в reducer’ax мы возвращаем новые объекты? Приведите пример, когда вы возвращаете новый объект, а когда тот же самый.
Потому что redux использует простое сравнение: изменился объект или нет. А два объекта могут быть равны только в том случае, если они содержат ссылку на одно и тоже место в памяти. Следовательно, когда вы в старый объект записываете новое свойство, для redux это «тот же самый» объект и перерисовки не произойдет. Выше в вопросах про основы есть пункт «передача объектов по ссылке«, прочтите его если вам не понятен текст ответа.
https://learn.javascript.ru/object-reference

---

## 13. Что возвращает функция connect (из react-redux)?
Connect возвращает новый компонент, обернутый в «приконекченный» компонент, в котором как раз и живут свойства, пришедшие из редьюсеров (которые туда любезно прокидывает Provider).

---

## 14. Что такое чистые функции?
Чистая функция - это функция, которая

1. всегда возвращать один и тот же вывод для одного и того же входа
2. не имеет побочных эффектов, значит, не меняет внешнего состояния.

>Функция является чистой только в том случае, если при одинаковом входе она всегда будет выдавать один и тот же результат.

```js
const add = (a, b) => a + b // A pure function
```

---

## 15. В чем разница между Flux и Redux?

> Flux - это шаблон проектирования, а Redux - библиотека.

| REDUX | FLUX |
|:-------|:-----|
| Одино хранилище - `store` |  Несколько `store` |
| Redux - это контейнер для приложений JavaScript. | Flux - это контейнер для состояния приложения и логики, которые зарегистрированы для обратных вызовов. |
| Он предлагает интересные функции, такие как написание приложений, тестирование в различных средах, таких как сервер, клиент и т. д. | Это шаблон наблюдателя - `observer pattern`, который изменен в соответствии с React. |
| В Redux действия - `actions` могут быть функциями или обещаниями. | Это причудливое имя, данное шаблону наблюдателя  - `observer pattern`, и Facebook разработал инструменты, чтобы помочь в реализации этих шаблонов. |
| Redux - лучший выбор для веб-разработчиков, поскольку он предлагает редактирование кода в реальном времени. | Flux поддерживает действия, которые являются простыми объектами JavaScript. |

---

## 16. Может ли Redux использоваться только с React?
Нет, Redux можно использовать как хранилище данных. чаще всего используется с React.js и React Native.

Redux также можно использовать с Angular, Vue.js и т. д.

---

## 17. Для чего нужен redux-thunk? Как он работает? Напишите (можно псевдокод) асинхронный создатель действия (либо, если надоело говорить «терминами» — асинхронный aciton)
Redux-thunk нужен для того, чтобы внутри создателя действия у вас была функция dispatch, чтобы с помощью нее «диспатчить» другие действия. Код redux-thunk’a состоит из 14 строк.
```js
function createThunkMiddleware(extraArgument) {
  return ({ dispatch, getState }) => (next) => (action) => {
    if (typeof action === 'function') {
      return action(dispatch, getState, extraArgument);
    }

    return next(action);
  };
}

const thunk = createThunkMiddleware();
thunk.withExtraArgument = createThunkMiddleware;

export default thunk;
```

Чтобы понимать как это работает, нужно знать как работают middleware.
https://github.com/rajdee/redux-in-russian/blob/master/docs/advanced/Middleware.md

---
---
